```c

template<typename Iter, typename Dist>
void distribute(Iter first, Dist dist) {
    detail::distribute_impl(first, dist, typename std::iterator_traits<Iter>::iterator_category());
}
namespace detail {
    template<typename Iter, typename Dist>
    void distribute_impl(Iter& first, Dist dist, std::random_access_iterator_tag) {
        it += dist;
    }
    template<typename Iter, typename Dist>
    void distribute_impl(Iter& first, Dist dist, std::bidirectional_iterator_tag) {
        while(n--) ++first;
    }
}

```

