OpenGL函数，它不是你真正下载的一些东西，实际上，它是你显卡驱动中一种东西，OpenGL函数是在你的显卡驱动中被实现的

使用OpenGL1.1的接口基本上就是得到函数声明，然后把链接到对应的函数上，所以，我们需要访问驱动的动态链接库文件，然后只检索库里面那些函数的函数指针

针对现代OpenGL的函数可能不是跨平台的，访问显卡驱动并从中取出这些函数，当我们在Windows.上的时候我们需要使用一些Win32接口调用，载入库，然后载入函数指针等等，但这个不是很好，因为只有在Windows上才能调用Win32，另外如果有超过1K个函数需要进行重写，这将是个糟糕的计划

所以我们需要第三方库提供OpenGL接口规范，各种函数声明，符号声明和常量——GLEW，这个库的实现就是进入EDI,在你使用的显卡驱动签名中，查找对应的动态链接文件，然后载入所有这些函数指针，这就是它所能做的，并没有实现这些函数，它们只是访问这些函数，那些函数早就以二进制的形式存在你电脑上了

## 下载

https://glew.sourceforge.net/

![image-20240630202708351](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630202708351.png)

官方文档在doc上

[file:///D:/dev/OpenGL/Dependencies/GLEW/doc/basic.html](file:///D:/dev/OpenGL/Dependencies/GLEW/doc/basic.html)

### 注意事项两点

首先，你需要创建一个有效的渲染OpenGL上下文，然后调用glewInit()去初始化扩展的入口，所以你不能直接从GLEW中直接调用OpenGL函数，直到你调用了glewlnit()

其次，你需要创建一个渲染OpenGL的上下文，在你调用glewInit()之前

### include、lib配置

同glfw

注意glew32s.lib是静态库，glew32.lib是动态库需要的

## 代码

```cpp
#include <GLFW/glfw3.h>
#include <GL/glew.h>	//导入header

int main(void)
{
	GLFWwindow* window;

	/* Initialize the library */
	if (!glfwInit())
		return -1;

	glewInit();	// 初始化
    
    //...
}
```

出现了字面上的hash错误，是一种编译错误

![image-20240630203748559](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630203748559.png)

这些符号被定义的话，就会出现这样的错误

![image-20240630203937670](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630203937670.png)

解决办法，**在包含任何其他OpenGL相关的头文件之前就要包含glew.h**

```cpp
#include <GL/glew.h>
#include <GLFW/glfw3.h>
```



接下来出现链接错误

```
 __imp_glewInit，
```

![image-20240630204116072](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630204116072.png)

![image-20240630204413033](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630204413033.png)

转到定义后

发现我们没有定义GLEW_STATIC，GLEW_BUILD也没有定义

然后实际上，`define GLEWAPI extern __declspec(dllimport)`它就定义了作为从dll文件导入的外部变量GLEWAPI，基本上就是告诉链接器，这是来自DLL文件，需要从dll文件导入，到现在，我们并没有使用GLEW的动态库版本，我们使用的是静态库，==所以我们需要定义宏GLEW_STATIC==

![image-20240630204542027](C:\Users\Re11a\AppData\Roaming\Typora\typora-user-images\image-20240630204542027.png)

![image-20240630205001061](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205001061.png)

### 运行

![image-20240630205327551](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205327551.png)

不等于OK，看文档就是我们提到的注意需要现在create，有个上下文后才能够glewInit

![image-20240630205425095](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205425095.png)

![image-20240630205503897](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205503897.png)

### 访问opengl函数

查看宏定义

![image-20240630205816076](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205816076.png)

查看函数签名

![image-20240630205830199](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205830199.png)

查看函数指针类型

![image-20240630205914410](C:\Users\Re11a\Desktop\c++资料\ChernoOpenGL-master\notes\assets\image-20240630205914410.png)
