> 不是从GPU从OpenGL中检索统一变量，每次我们要设置统一变量的时候，实际上，我们可以做很多不同的事情来保留那个位置，并利用一旦统一变量被检索到的事实，一旦我们编译了着色器，我们就在我们的GPU上得到了那种实际的着色器对象，GPU中的着色器知道所有的统一变量，一旦我们得到了那个所有的数据，我们没有理由不断地查询GPU
>

cherno给出这是一种很容易就能加快统一变量设置的方法，但不是每次从OpenGL检索位置，而是通过缓存它

之前的视频已经实现

```CPP
int Shader::GetUniformLocation(const std::string& name) const
{
	// 如果已经缓存了 uniform 变量的位置，则直接返回
	if (m_UniformLocationCache.find(name) != m_UniformLocationCache.end()) {
		return m_UniformLocationCache[name];
	}

	int location;
	GLCall(location = glGetUniformLocation(m_RendererID, name.c_str())); // 获取 uniform 变量的位置

	// 如果位置为 -1，则说明 uniform 变量不存在
	if (location == -1) {
		std::cout << "Warning: uniform '" << name << "' doesn't exist" << std::endl;
	}

	// 将位置缓存到 map 中
	m_UniformLocationCache[name] = location;
	return location; // 返回 uniform 变量的位置
}
```

